/*! angular-flash - v2.0.0 - 2016-02-01
* https://github.com/sachinchoolur/angular-flash
* Copyright (c) 2016 Sachin; Licensed MIT */
"use strict";var app=angular.module("flash",[]);app.run(["$rootScope",function(a){return a.flashes=[]}]),app.directive("dynamic",["$compile",function(a){return{restrict:"A",replace:!0,link:function(b,c,d){return b.$watch(d.dynamic,function(d){return c.html(d),a(c.contents())(b)})}}}]),app.directive("closeFlash",["$compile","$rootScope","Flash",function(a,b,c){return{link:function(a,d,e){return d.on("click",function(){var a=parseInt(e.closeFlash,10);c.dismiss(a),b.$apply()})}}}]),app.directive("flashMessage",["Flash",function(a){return{restrict:"E",scope:{duration:"=duration"},template:'<div ng-show="$root.flashes.length > 0"><div role="alert" ng-repeat="flash in $root.flashes track by $index" class="alert {{flash.addClass}} alert-{{flash.type}} alert-dismissible alertIn alertOut "> <span dynamic="flash.text"></span> <button type="button" class="close" close-flash="{{flash.id}}"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> </div></div>',link:function(b,c,d){a.setDefaultTimeout(b.duration)}}}]),app.factory("Flash",["$rootScope","$timeout",function(a,b){function c(b){return a.flashes.findIndex(function(a){return a.id===b})}var d={},e=0;return d.setDefaultTimeout=function(a){d.defaultTimeout=a},d.getDefaultTimeout=function(){return d.defaultTimeout},d.create=function(c,f,g,h){var i=void 0,j=void 0;i=this,j={type:c,text:f,addClass:h,id:e++},d.defaultTimeout&&"undefined"==typeof g?j.timeout=d.defaultTimeout:g&&(j.timeout=g),a.flashes.push(j),j.timeout&&(j.timeoutObj=b(function(a){i.dismiss(a)},j.timeout,!0,j.id))},d.pause=function(c){a.flashes[c].timeoutObj&&b.cancel(a.flashes[c].timeoutObj)},d.dismiss=function(b){var e=c(b);-1!==e&&(d.pause(e),a.flashes.splice(e,1),a.$digest())},d.clear=function(){for(;a.flashes.length>0;)d.dismiss(0)},d.reset=d.clear,d}]);